# üìã PROMPT COMPLETO - DIREITO ORGANIZADO V2.0

## üéØ **VIS√ÉO GERAL DO PROJETO**

Criar um aplicativo web moderno e escal√°vel para estudantes e profissionais do direito no Brasil, com foco em produtividade, organiza√ß√£o de estudos e consulta jur√≠dica. O projeto deve ser desenvolvido pensando na experi√™ncia de um **estudante de direito**, priorizando funcionalidades essenciais e preparando a base para futuras monetiza√ß√µes.

### üèÜ **OBJETIVOS PRINCIPAIS**
- **Performance otimizada** para carregamento r√°pido
- **C√≥digo limpo e escal√°vel** para manuten√ß√£o f√°cil
- **Prepara√ß√£o para mobile** (futuro APK/iOS)
- **Base para monetiza√ß√£o** (planos pagos + loja jur√≠dica)
- **Foco na experi√™ncia do estudante** de direito

### üöÄ **ESTRAT√âGIA DE DESENVOLVIMENTO ITERATIVA**
- **Desenvolvimento p√°gina por p√°gina**: Foco em uma funcionalidade por vez at√© 100% completa
- **P√°ginas n√£o priorit√°rias**: Exibir apenas preview "Em Desenvolvimento" 
- **Primeira prioridade**: Sistema de Login + Caderno Digital completo
- **Layout flex√≠vel**: Deixar o Claude/IA decidir o melhor layout e UX, seguindo apenas as cores definidas

---

## üî• **FIREBASE CONFIGURATION E DADOS EXISTENTES**

## üèóÔ∏è **ARQUITETURA TECNOL√ìGICA**
```javascript
// firebase/config.js
const firebaseConfig = {
  apiKey: "AIzaSyACIX4Ep4HHTQSPCmQ8Ip3uWUHvYIuufyU",
  authDomain: "super-ajudante-mvp-v1.firebaseapp.com",
  projectId: "super-ajudante-mvp-v1",
  storageBucket: "super-ajudante-mvp-v1.firebasestorage.app",
  messagingSenderId: "21694426906",
  appId: "1:21694426906:web:d0c3c04e435adad699c6a3",
  measurementId: "G-98YPWL77DG"
};
```

### **Estrutura de Dados no Firestore (EXISTENTE)**
```javascript
// Collection: "users" - Perfis de usu√°rio
{
  uid: "firebase_user_id",
  email: "usuario@email.com",
  displayName: "Nome do Usu√°rio",
  plan: "free|premium|pro",
  createdAt: "timestamp",
  lastLogin: "timestamp",
  preferences: {
    theme: "light|dark",
    notifications: true,
    defaultView: "dashboard"
  }
}

// Collection: "notes" - Anota√ß√µes do caderno digital
{
  id: "auto_generated_id",
  userId: "firebase_user_id",
  title: "T√≠tulo da Anota√ß√£o",
  content: "Conte√∫do em texto rico/HTML",
  subject: "Mat√©ria (ex: Direito Civil)",
  tags: ["tag1", "tag2"],
  createdAt: "timestamp",
  updatedAt: "timestamp",
  isArchived: false,
  color: "#ffffff", // Para organiza√ß√£o visual
  attachments: [] // Para futuras implementa√ß√µes
}

// Collection: "study_plans" - Planos de estudo
{
  id: "auto_generated_id",
  userId: "firebase_user_id",
  title: "Nome do Plano",
  type: "graduacao|concurso|oab|livre",
  subjects: ["Direito Civil", "Direito Penal"],
  schedule: {
    // Estrutura de hor√°rios
  },
  goals: {
    daily: 4, // horas por dia
    weekly: 28 // horas por semana
  },
  createdAt: "timestamp",
  isActive: true
}

// Collection: "bookmarks" - Marca√ß√µes no Vade Mecum
{
  id: "auto_generated_id",
  userId: "firebase_user_id",
  lawId: "cf", // ID da lei (ex: cf, cc, cp)
  articleNumber: "1",
  note: "Anota√ß√£o pessoal sobre o artigo",
  highlights: ["texto destacado"],
  createdAt: "timestamp"
}
```

### **IMPORTANTE: Vade Mecum - N√ÉO usar Firebase NESTE MOMENTO**
- **Dados das leis**: Usar EXCLUSIVAMENTE os arquivos da pasta `js-modules/`
- **83 arquivos .js dispon√≠veis** com toda legisla√ß√£o brasileira
- **N√£o armazenar leis no Firestore** - apenas marca√ß√µes/anota√ß√µes do usu√°rio

### **Stack Principal**
```json
{
  "framework": "React 19.1.0 + Vite 6.3.5",
  "linguagem": "JavaScript (ES Modules)",
  "estiliza√ß√£o": "Tailwind CSS v4.1.7",
  "componentes": "Shadcn/ui (estilo new-york)",
  "roteamento": "React Router DOM v7.6.1",
  "estado": "Context API (AuthContext + DataContext)",
  "backend": "Firebase v11.10.0 (Auth + Firestore)",
  "gerenciador": "PNPM",
  "mobile_ready": "PWA + Capacitor (futuro)"
}
```

### **Depend√™ncias Cr√≠ticas**
```json
{
  "dependencies": {
    "@radix-ui/react-*": "^latest",
    "@tailwindcss/vite": "^4.1.7",
    "firebase": "^11.10.0",
    "react": "^19.1.0",
    "react-dom": "^19.1.0",
    "react-router-dom": "^7.6.1",
    "lucide-react": "^0.510.0",
    "framer-motion": "^12.15.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "tailwind-merge": "^3.3.0",
    "zod": "^3.24.4",
    "react-hook-form": "^7.56.3",
    "@hookform/resolvers": "^5.0.1",
    "date-fns": "^4.1.0",
    "sonner": "^2.0.3"
  }
}
```

---

## üì± **EXPERI√äNCIA DO USU√ÅRIO (ESTUDANTE DE DIREITO)**

### **Personas Principais**
1. **Estudante de Gradua√ß√£o** - Precisa organizar mat√©rias, fazer anota√ß√µes e consultar leis
2. **Concurseiro** - Foco em cronogramas de estudo, simulados e consulta r√°pida
3. **Profissional Iniciante** - Consulta jur√≠dica r√°pida e organiza√ß√£o de casos
4. **Em todos os 3 casos acima** - Os usu√°rios precisam trablhar com muitos arquivos, ent√£o o projeto deve ser um gerenciador central desses arquivos.

### **Jornada do Usu√°rio**
```
Cadastro ‚Üí Onboarding ‚Üí Dashboard ‚Üí M√≥dulos ‚Üí Rotina de Estudo
```

### **Funcionalidades por Prioridade**
**üéØ FASE 1 - LOGIN + CADERNO DIGITAL (100% Completo):**
1. ‚úÖ Sistema de Login/Registro (Firebase Auth)
2. ‚úÖ Caderno Digital completo e funcional
3. ‚úÖ Dashboard b√°sico com navega√ß√£o

**üìã OUTRAS P√ÅGINAS (Preview "Em Desenvolvimento"):**
- Vade Mecum Inteligente
- Planejamento de Estudos
- Agenda Inteligente (dever√° ser integrada em outras agendas, como a do google, mas futuramente)  
- Testes r√°pidos/Quiz e flash cards
- Perfil do Usu√°rio
- Configura√ß√µes

**üöÄ Futuras (Ap√≥s Caderno 100%):**
1. Vade Mecum completo
2. Planejamento de estudos
3. Agenda Inteligente
4. Loja Jur√≠dica
5. Planos Pagos

---

## üîê **SISTEMA DE LOGIN (PRIORIDADE IMEDIATA)**

### **Funcionalidades Obrigat√≥rias**
```javascript
// P√°gina de Login simples e funcional
- Login com email/senha
- Registro de novos usu√°rios
- Recupera√ß√£o de senha (forgot password)
- Integra√ß√£o completa com Firebase Auth
- Redirecionamento autom√°tico ap√≥s login
- Valida√ß√£o de formul√°rios com React Hook Form + Zod
- Estados de loading e erro
- Design limpo e profissional
```

### **Estrutura do Sistema de Auth**
```javascript
// contexts/AuthContext.jsx
export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null)
  const [loading, setLoading] = useState(true)
  
  // Fun√ß√µes obrigat√≥rias:
  const login = async (email, password) => {
    // Implementar signInWithEmailAndPassword
  }
  
  const register = async (email, password, displayName) => {
    // Implementar createUserWithEmailAndPassword
    // Criar documento na collection "users"
  }
  
  const logout = async () => {
    // Implementar signOut
  }
  
  const resetPassword = async (email) => {
    // Implementar sendPasswordResetEmail
  }
  
  return (
    <AuthContext.Provider value={{ user, login, register, logout, resetPassword, loading }}>
      {children}
    </AuthContext.Provider>
  )
}
```

### **Estrutura de Dados (js-modules/) - Para Implementa√ß√£o Futura**
```javascript
// Formato dos arquivos existentes - N√ÉO MODIFICAR
export default {
  "id": "cf",
  "titulo": "Constitui√ß√£o",
  "ano": 1988,
  "nome": "Constitui√ß√£o da Rep√∫blica Federativa do Brasil", 
  "alias": "Constitui√ß√£o Federal",
  "area": "administrativo",
  "categoria": "constitucional",
  "jurisdicao": "federal",
  "prioridade": 1,
  "url": "http://www.planalto.gov.br/ccivil_03/constituicao/constituicao.htm",
  "artigos": {
    "1": {
      "numero": "1¬∫",
      "titulo": "Brasil, formada pela uni√£o indissol√∫vel...",
      "texto": "Art. 1¬∫ A Rep√∫blica Federativa do Brasil...",
      "incisos": ["I", "II", "III", "IV", "V"]
    }
  },
  "totalArtigos": 250
}
```

### **83 Leis Dispon√≠veis na pasta js-modules/**
- Constitui√ß√£o Federal (cf.js), C√≥digo Civil (cc.js), C√≥digo Penal (cp.js)
- C√≥digo de Processo Civil (cpc.js), CLT (clt.js), CDC (cdc.js)
- ECA (eca.js), e mais 76 leis brasileiras importantes

---

## üìù **CADERNO DIGITAL (IMPLEMENTA√á√ÉO COMPLETA - FASE 1)**

### **Funcionalidades OBRIGAT√ìRIAS do Caderno**
```javascript
// CRUD Completo de Anota√ß√µes
1. ‚úÖ Criar nova anota√ß√£o
2. ‚úÖ Editar anota√ß√£o existente  
3. ‚úÖ Deletar anota√ß√£o (com confirma√ß√£o)
4. ‚úÖ Listar todas as anota√ß√µes
5. ‚úÖ Buscar anota√ß√µes por t√≠tulo/conte√∫do
6. ‚úÖ Filtrar por mat√©ria/tags
7. ‚úÖ Organizar por data, t√≠tulo, mat√©ria
8. ‚úÖ Sistema de tags personalizadas
9. ‚úÖ Cores para categoriza√ß√£o visual
10. ‚úÖ Sincroniza√ß√£o em tempo real com Firebase
```

### **Editor de Texto Rico**
```javascript
// Funcionalidades do Editor
- Formata√ß√£o b√°sica: negrito, it√°lico, sublinhado
- Listas (ordenadas e n√£o ordenadas)
- Links
- Cabe√ßalhos (H1, H2, H3)
- Cita√ß√µes (blockquotes)
- C√≥digo inline e blocos de c√≥digo
- Desfazer/Refazer
- Contagem de palavras
- Auto-save durante digita√ß√£o
```

### **Interface do Caderno (Flex√≠vel - Claude decide layout)**
```javascript
// Componentes essenciais (layout livre):
1. Lista de anota√ß√µes (sidebar, grid, ou lista)
2. Editor principal 
3. Barra de ferramentas do editor
4. Sistema de busca e filtros
5. Modal/drawer para nova anota√ß√£o
6. Confirma√ß√£o de exclus√£o
7. Indicadores de sincroniza√ß√£o
8. Estados de loading/erro
```

### **Estrutura de Dados (Firebase Firestore)**
```javascript
// Collection: "notes"
{
  id: "auto_generated_id",
  userId: "firebase_user_id", // Obrigat√≥rio para seguran√ßa
  title: "T√≠tulo da Anota√ß√£o",
  content: "Conte√∫do do editor Lexical (JSON)",
  subject: "Direito Civil", // Dropdown com mat√©rias
  tags: ["importante", "revisao"], // Array de strings
  color: "#3B82F6", // Hex color para organiza√ß√£o visual
  createdAt: "2025-01-15T10:30:00Z",
  updatedAt: "2025-01-15T11:45:00Z",
  isArchived: false, // Para arquivar sem deletar
  wordCount: 150 // Para estat√≠sticas
}
```

### **Mat√©rias Pr√©-definidas (Dropdown)**
```javascript
// constants/subjects.js
export const SUBJECTS = [
  "Direito Constitucional",
  "Direito Civil", 
  "Direito Penal",
  "Direito Processual Civil",
  "Direito Processual Penal",
  "Direito Administrativo",
  "Direito Tribut√°rio",
  "Direito Trabalhista",
  "Direito Empresarial",
  "Direito do Consumidor",
  "Outro" // Para mat√©rias personalizadas
]
```

---

## ÔøΩ **P√ÅGINAS "EM DESENVOLVIMENTO" (PREVIEWS SIMPLES)**

### **P√°ginas com Preview B√°sico**
```javascript
// Componentes simples para p√°ginas n√£o priorizadas
const ComingSoonPage = ({ title, description, icon }) => {
  return (
    <div className="flex flex-col items-center justify-center min-h-[60vh] text-center">
      <div className="mb-6">
        {icon}
      </div>
      <h1 className="text-3xl font-bold mb-4">{title}</h1>
      <p className="text-muted-foreground mb-6 max-w-md">
        {description}
      </p>
      <div className="bg-primary/10 px-4 py-2 rounded-full">
        <span className="text-primary font-medium">Em Desenvolvimento</span>
      </div>
    </div>
  )
}

// P√°ginas que ter√£o preview:
1. üìö Vade Mecum - "Consulte toda legisla√ß√£o brasileira"
2. üìÖ Planejamento - "Organize seus estudos de forma inteligente"  
3. üß† Testes - "Pratique com quest√µes e simulados"
4. üë§ Perfil - "Gerencie sua conta e prefer√™ncias"
5. ‚öôÔ∏è Configura√ß√µes - "Personalize sua experi√™ncia"
```

## ‚öñÔ∏è **VADE MECUM (INFORMA√á√ïES PARA FUTURO)**

## üé® **DESIGN SYSTEM (APENAS CORES - LAYOUT FLEX√çVEL)**

### **Paleta de Cores Obrigat√≥ria**
```javascript
// tailwind.config.js - Cores espec√≠ficas para o projeto
module.exports = {
  theme: {
    extend: {
      colors: {
        // Cores prim√°rias (Verde Jur√≠dico)
        primary: {
          50: '#f0fdf4',
          100: '#dcfce7', 
          200: '#bbf7d0',
          300: '#86efac',
          400: '#4ade80',
          500: '#047857', // COR PRINCIPAL
          600: '#059669',
          700: '#047857',
          800: '#065f46',
          900: '#064e3b',
          950: '#022c22'
        },
        
        // Cores secund√°rias (Jur√≠dico tradicional)
        juridico: {
          gold: '#d4af37',    // Dourado elegante
          navy: '#1e293b',    // Azul marinho profissional
          cream: '#faf9f6',   // Creme suave
          slate: '#64748b'    // Cinza neutro
        },
        
        // Cores funcionais
        success: '#10b981',
        warning: '#f59e0b', 
        error: '#ef4444',
        info: '#3b82f6'
      }
    }
  }
}
```

### **Diretrizes de Design (Sem Layout Espec√≠fico)**
- **Tipografia**: Inter como fonte principal (j√° configurada)
- **Espa√ßamento**: Usar sistema de espa√ßamento do Tailwind (4, 8, 16, 24px)
- **Bordas**: Rounded-lg para cards, rounded-md para inputs
- **Sombras**: Usar shadow-sm, shadow-md conforme necess√°rio
- **Tema**: Suporte completo a dark/light mode
- **Responsividade**: Mobile-first sempre

**IMPORTANTE**: O Claude tem total liberdade para decidir:
- Layout das p√°ginas
- Posicionamento de elementos  
- Estrutura de componentes
- Navega√ß√£o e fluxos de usu√°rio
- Organiza√ß√£o visual

---

## üèõÔ∏è **ARQUITETURA DE C√ìDIGO LIMPO**

### **Estrutura de Pastas Otimizada**
```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/                    # Shadcn/ui components
‚îÇ   ‚îú‚îÄ‚îÄ common/                # Componentes reutiliz√°veis
‚îÇ   ‚îú‚îÄ‚îÄ features/              # Componentes por funcionalidade
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vademecum/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notebook/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planning/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/
‚îÇ   ‚îî‚îÄ‚îÄ layout/                # Layout e navega√ß√£o
‚îú‚îÄ‚îÄ hooks/                     # Custom hooks
‚îú‚îÄ‚îÄ services/                  # Servi√ßos (Firebase, APIs)
‚îú‚îÄ‚îÄ utils/                     # Utilit√°rios e helpers
‚îú‚îÄ‚îÄ contexts/                  # Context API
‚îú‚îÄ‚îÄ constants/                 # Constantes globais
‚îú‚îÄ‚îÄ types/                     # TypeScript types (futuro)
‚îî‚îÄ‚îÄ styles/                    # Estilos globais
```

### **Padr√µes de C√≥digo**
```javascript
// 1. Componentes funcionais com hooks
const Component = ({ prop1, prop2 }) => {
  // Custom hooks primeiro
  const { user } = useAuth()
  
  // Estado local
  const [state, setState] = useState()
  
  // Effects
  useEffect(() => {}, [])
  
  // Handlers
  const handleAction = () => {}
  
  // Render
  return <div>...</div>
}

// 2. Custom hooks para l√≥gica complexa
const useVadeMecum = () => {
  // Toda l√≥gica do Vade Mecum aqui
  return { laws, search, filter }
}

// 3. Services para comunica√ß√£o externa
export const vademecumService = {
  getLaws: () => {},
  searchLaws: () => {},
  saveFavorite: () => {}
}
```

---

## üí∞ **PREPARA√á√ÉO PARA MONETIZA√á√ÉO**

### **Arquitetura de Planos**
```javascript
// constants/plans.js
export const PLANS = {
  FREE: {
    id: 'free',
    name: 'Gratuito',
    features: [
      'Vade Mecum b√°sico',
      'Caderno limitado (50 notas)',
      'Planejamento simples'
    ],
    limits: {
      notes: 50,
      storage: '100MB',
      vademecum: 'basic'
    }
  },
  PREMIUM: {
    id: 'premium', 
    name: 'Premium',
    price: 19.90,
    features: [
      'Vade Mecum completo',
      'Caderno ilimitado',
      'Planejamento avan√ßado',
      'Exporta√ß√£o PDF'
    ],
    limits: {
      notes: -1, // ilimitado
      storage: '1GB',
      vademecum: 'full'
    }
  },
  PRO: {
    id: 'pro',
    name: 'Profissional',
    price: 39.90,
    features: [
      'Todos recursos Premium',
      'Acesso √† Loja Jur√≠dica',
      'Suporte priorit√°rio',
      'Funcionalidades profissionais'
    ]
  }
}
```

### **Sistema de Verifica√ß√£o de Planos**
```javascript
// hooks/useSubscription.js
export const useSubscription = () => {
  const { user } = useAuth()
  
  const checkFeatureAccess = (feature) => {
    return user?.plan?.features?.includes(feature)
  }
  
  const checkLimit = (type, current) => {
    const limit = user?.plan?.limits?.[type]
    return limit === -1 || current < limit
  }
  
  return { checkFeatureAccess, checkLimit }
}
```

### **Componente de Paywall**
```javascript
// components/common/Paywall.jsx
const Paywall = ({ feature, children }) => {
  const { checkFeatureAccess } = useSubscription()
  const hasAccess = checkFeatureAccess(feature)
  
  if (!hasAccess) {
    return <UpgradeModal feature={feature} />
  }
  
  return children
}
```

---

## üõçÔ∏è **PREPARA√á√ÉO PARA LOJA JUR√çDICA**

### **Estrutura de Produtos**
```javascript
// types/store.js
export const PRODUCT_TYPES = {
  COURSE: 'course',
  EBOOK: 'ebook', 
  TEMPLATE: 'template',
  WEBINAR: 'webinar'
}

// Firestore: collection "products"
{
  id: "uuid",
  type: "course",
  title: "Curso de Direito Civil",
  description: "string",
  price: 199.90,
  instructor: "string",
  category: "civil",
  isActive: true,
  createdAt: "timestamp"
}
```

### **Sistema de Compras**
```javascript
// services/paymentService.js
export const paymentService = {
  createCheckout: async (productId) => {
    // Integra√ß√£o com Stripe/PayPal/PIX
  },
  verifyPayment: async (paymentId) => {
    // Verificar status do pagamento
  }
}
```

---

## üì± **PREPARA√á√ÉO PARA MOBILE (PWA + CAPACITOR)**

### **PWA Configuration**
```javascript
// vite.config.js
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    VitePWA({
      registerType: 'autoUpdate',
      workbox: {
        globPatterns: ['**/*.{js,css,html,ico,png,svg}'],
        runtimeCaching: [
          {
            urlPattern: /^https:\/\/firestore\.googleapis\.com/,
            handler: 'NetworkFirst',
            options: {
              cacheName: 'firestore-cache'
            }
          }
        ]
      },
      manifest: {
        name: 'Direito Organizado',
        short_name: 'DireitoOrg',
        description: 'Seu assistente jur√≠dico completo',
        theme_color: '#047857',
        background_color: '#ffffff',
        display: 'standalone',
        icons: [
          {
            src: 'icon-192.png',
            sizes: '192x192',
            type: 'image/png'
          }
        ]
      }
    })
  ]
})
```

### **Capacitor Setup (Futuro)**
```bash
# Prepara√ß√£o para mobile nativo
npm install @capacitor/core @capacitor/cli
npm install @capacitor/android @capacitor/ios
npx cap init "Direito Organizado" "com.direitoorganizado.app"
```

---

### **Componentes Responsivos (Flexibilidade Total)**
- **Mobile-first**: Sempre come√ßar pelo mobile
- **Navega√ß√£o**: Decidir entre sidebar, bottom nav, ou drawer
- **Cards**: Para anota√ß√µes, estat√≠sticas, etc
- **Modals/Drawers**: Para formul√°rios e a√ß√µes
- **Loading states**: Spinners, skeletons conforme necess√°rio
- **Empty states**: Quando n√£o h√° dados

---

## üöÄ **PERFORMANCE E OTIMIZA√á√ÉO OBRIGAT√ìRIA**

### **Estrat√©gias Cr√≠ticas**
```javascript
// 1. Code Splitting obrigat√≥rio
const CadernoDigital = lazy(() => import('./pages/CadernoDigital'))
const VadeMecum = lazy(() => import('./pages/VadeMecum'))

// 2. Debounce para busca (obrigat√≥rio)
const useDebounce = (value, delay) => {
  const [debouncedValue, setDebouncedValue] = useState(value)
  
  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value)
    }, delay)
    return () => clearTimeout(handler)
  }, [value, delay])
  
  return debouncedValue
}

// 3. Firestore real-time com unsubscribe
useEffect(() => {
  const unsubscribe = onSnapshot(
    query(collection(db, 'notes'), where('userId', '==', user.uid)),
    (snapshot) => {
      const notes = snapshot.docs.map(doc => ({
        id: doc.id,
        ...doc.data()
      }))
      setNotes(notes)
    }
  )
  
  return unsubscribe // IMPORTANTE: limpar listener
}, [user.uid])
```

---

---

## üöÄ **PERFORMANCE E OTIMIZA√á√ÉO OBRIGAT√ìRIA**

### **Estrat√©gias Cr√≠ticas**
```javascript
// 1. Code Splitting por rota
const VadeMecum = lazy(() => import('./components/features/vademecum'))

// 2. Virtualization para listas grandes
import { FixedSizeList as List } from 'react-window'

// 3. Debounce para busca
const useDebounce = (value, delay) => {
  const [debouncedValue, setDebouncedValue] = useState(value)
  
  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value)
    }, delay)
    
    return () => clearTimeout(handler)
  }, [value, delay])
  
  return debouncedValue
}

### **Bundle Optimization Obrigat√≥rio**
```javascript
// vite.config.js - Code splitting necess√°rio
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vendor-react': ['react', 'react-dom'],
          'vendor-ui': ['@radix-ui/react-dialog', '@radix-ui/react-dropdown-menu'],
          'vendor-firebase': ['firebase/app', 'firebase/auth', 'firebase/firestore'],
          'vendor-editor': ['lexical', '@lexical/react'],
          'vademecum-data': ['./src/data/js-modules/index.js']
        }
      }
    }
  }
})
```

---

## ‚úÖ **ROADMAP ESPEC√çFICO - DESENVOLVIMENTO ITERATIVO**

### **üéØ FASE 1 - FOCO TOTAL (2-3 semanas)**
```javascript
// ENTREG√ÅVEIS OBRIGAT√ìRIOS:
1. ‚úÖ Setup inicial (Vite + React + Tailwind + Firebase)
2. ‚úÖ Sistema de Login/Registro 100% funcional
3. ‚úÖ Caderno Digital COMPLETO com todas funcionalidades
4. ‚úÖ Layout responsivo com navega√ß√£o b√°sica
5. ‚úÖ P√°ginas "Em Desenvolvimento" com previews
6. ‚úÖ Deploy funcional

// CRIT√âRIOS DE CONCLUS√ÉO DA FASE 1:
- Login/logout funcionando perfeitamente
- Criar, editar, deletar anota√ß√µes
- Busca e filtros funcionais
- Sincroniza√ß√£o Firebase em tempo real
- Interface responsiva e profissional
- Performance otimizada
```

### **üìã PR√ìXIMAS FASES (Ap√≥s Fase 1 100%)**
- **Fase 2**: Vade Mecum completo (3-4 semanas)
- **Fase 3**: Planejamento de estudos (2-3 semanas)  
- **Fase 4**: Sistema de planos/monetiza√ß√£o (2 semanas)
- **Fase 5**: PWA e prepara√ß√£o mobile (1-2 semanas)

---

---

## ÔøΩÔ∏è **COMANDOS E SETUP INICIAL**

### **Setup Obrigat√≥rio**
```bash
# Criar projeto Vite
pnpm create vite direito-organizado --template react
cd direito-organizado

# Instalar depend√™ncias essenciais
pnpm install @tailwindcss/vite tailwindcss
pnpm install firebase react-router-dom
pnpm install lucide-react framer-motion
pnpm install @radix-ui/react-dialog @radix-ui/react-dropdown-menu
pnpm install @radix-ui/react-tabs @radix-ui/react-select
pnpm install react-hook-form @hookform/resolvers zod
pnpm install lexical @lexical/react @lexical/rich-text
pnpm install class-variance-authority clsx tailwind-merge
pnpm install sonner # Para toasts/notifica√ß√µes

# Configurar Shadcn/ui
npx shadcn@latest init

# Desenvolvimento
pnpm dev
```

### **Estrutura de Arquivos Inicial**
```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # Shadcn components
‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Login/Register
‚îÇ   ‚îú‚îÄ‚îÄ notebook/        # Caderno Digital
‚îÇ   ‚îú‚îÄ‚îÄ layout/          # Layout geral
‚îÇ   ‚îî‚îÄ‚îÄ common/          # Componentes reutiliz√°veis
‚îú‚îÄ‚îÄ pages/               # P√°ginas principais
‚îú‚îÄ‚îÄ contexts/            # AuthContext
‚îú‚îÄ‚îÄ hooks/               # Custom hooks
‚îú‚îÄ‚îÄ services/            # Firebase services
‚îú‚îÄ‚îÄ constants/           # Constantes (mat√©rias, cores)
‚îî‚îÄ‚îÄ lib/                 # Utilit√°rios
```

---

## üéì **CONSIDERA√á√ïES FINAIS E PRIORIDADES**

### **FOCO ABSOLUTO - FASE 1**
1. **Login simples** mas seguro e funcional
2. **Caderno Digital completo** - nada pela metade
3. **C√≥digo limpo** e bem estruturado
4. **Performance otimizada** desde o in√≠cio
5. **Responsividade perfeita** 

### **LIBERDADES CRIATIVAS PARA O CLAUDE**
- **Layout**: Decidir a melhor disposi√ß√£o de elementos
- **UX**: Criar a melhor experi√™ncia de usu√°rio poss√≠vel
- **Navega√ß√£o**: Escolher entre sidebar, drawer, bottom nav
- **Componentes**: Organizar da forma mais intuitiva
- **Anima√ß√µes**: Adicionar onde fizer sentido

### **N√ÉO NEGOCI√ÅVEIS**
- ‚úÖ Firebase com as credenciais fornecidas
- ‚úÖ Estrutura de dados do Firestore conforme especificado
- ‚úÖ Cores da paleta obrigat√≥ria
- ‚úÖ Funcionalidades completas do Caderno Digital
- ‚úÖ Performance e otimiza√ß√£o desde o in√≠cio
- ‚úÖ P√°ginas n√£o priorizadas com preview "Em Desenvolvimento"

**OBJETIVO**: Entregar o melhor Caderno Digital para estudantes de direito, com c√≥digo limpo e preparado para escalabilidade.
